---
- name: "Ensure dependencies are installed"
  ansible.builtin.apt:
    name: "{{ packages }}"
    state: present
  vars:
    packages:
      - "gpgv"
      - "gnupg"
      - "dirmngr"

- name: "Add GPG key"
  ansible.builtin.apt_key:
    url: "{{ yabrowser_gpg_key_url }}"

- name: "Add repository"
  ansible.builtin.apt_repository:
    repo: "{{ yabrowser_deb_source }}"
    state: "present"

- name: "Install Yandex Browser"
  ansible.builtin.apt:
    name: "{{ yabrowser_package }}"
    state: present
